<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="main-container">
  <div class="login-container">
    <form id="loginForm" class="form" (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <h2 style="text-align: center">Login</h2>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input
                type="email"
                id="email"
                name="email"
                [(ngModel)]="email"
                #emailField="ngModel"
                (blur)="appendDefaultDomain()"
                placeholder="example@hp.com"
                required
        />
        <div *ngIf="emailField.invalid && emailField.touched" class="error-message">
          Email is required.
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div class="password-container">
          <input
                  [type]="passwordFieldType"
                  id="password"
                  name="password"
                  [(ngModel)]="password"
                  #passwordField="ngModel"
                  required
          />
          <i class="fa" [ngClass]="passwordVisible ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePasswordVisibility()"></i>
        </div>
        <div *ngIf="passwordField.invalid && passwordField.touched" class="error-message">
          Password is required.
        </div>
        <div *ngIf="loginError" class="error-message">
          {{ loginError }}
        </div>
      </div>

      <div class="form-group">
        <button type="submit" [disabled]="loginForm.invalid">Login</button>
      </div>

      <div class="form-group">
        <p>Don't have an account? <a routerLink="/signup">Sign Up</a></p>
      </div>
    </form>
  </div>
</div>
